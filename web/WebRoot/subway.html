<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>submit.html</title>
	
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
	<style type="text/css">
		#subway_d{position:absolute;top:50px;left:50px;z-index:3;background:url(image/subway.png);width:2123px;height:1488px;border:1px solid black;cursor:move;}
	</style>
  </head>
  
  <body>
  	<div id="mess"></div>
  	<div id="subway_d" style="top:0px;left:0px;border:1px solid black;">
    </div>
  </body>
</html>

	
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript">
    /*
    	$(function(){
		var top,left,move=false;;
		$("#subway_d").click(function(){
		}).mousedown(function(e){
			var bp = document.getElementById("subway_d").style.backgroundPosition;
			var left_index = bp.indexOf("px");
			var top_index = bp.indexOf("px", left_index+1);
			top  = e.pageY-parseInt(bp.substring(left_index+3,top_index));
			left = e.pageX-parseInt(bp.substring(0,left_index));
			move=true;
		});
		$(document).mousemove(function(e){
 			if(move){
			var x= e.pageX-left;
			var y= e.pageY-top;
			document.getElementById("subway_d").style.backgroundPosition = x+"px "+y+"px";	
			document.getElementById("mess").innerHTML = top+" "+left+" "+x+" "+y+" "+e.pageX+" "+e.pageY;
			}
		}).mouseup(function(){
			move=false;
		})
	})
    */	
    $(function(){
    	var shang_x = -200,shang_y = 0 ; xia_x = 600, xia_y = 400;
		var top,left,move=false;
		$("#subway_d").click(function(){
		}).mousedown(function(e){
			top=e.pageY-parseInt($("#subway_d").css("top"));
		    left=e.pageX-parseInt($("#subway_d").css("left"));
			move=true;
		});
		$(document).mousemove(function(e){
 			if(move){
			var x= e.pageX-left;
			var y= e.pageY-top;
			if(  x > shang_x && x<xia_x && 
			 y> shang_y && y < xia_y){
				$("#subway_d").css({"left":x,"top":y});
				}
			}
		}).mouseup(function(){
			move=false;
		})
	})
    	/*
    	top=e.pageY-parseInt($("#subway_d").css("top"));
		left=e.pageX-parseInt($("#subway_d").css("left"));
    	
    	var left_index = bp.indexOf("px");
			var top_index = bp.indexOf("px", left_index+1);
			left = parseInt(bp.substring(0,left_index));
			top  = parseInt(bp.substring(left_index+3,top_index));
    			
		$("#subway_d").css({"left":x,"top":y});
		*/
    </script>